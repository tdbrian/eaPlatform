<div class="page center">
  <div class="content med-width">

    <!-- Header -->
    <div class="title">
      <h3>Apps
        <span>List</span>
      </h3>
      <h1>Edit App</h1>
    </div>

    <app-data-loader [dataLoader]="appResult">

      <!-- Edit app form -->
      <form #f="ngForm" novalidate (ngSubmit)="edit(f)">
        <fieldset [disabled]="appResult.isLoading">
          <div class="form-group">
            <label for="nameInput">Service Name</label>
            <input #nameInput="ngModel" type="text" class="form-control" [(ngModel)]="name" name="name" id="nameInput" placeholder="Enter name"
              required maxlength="150" minlength="2">
            <small [hidden]="nameInput.valid || (nameInput.pristine && !f.submitted)" class="text-danger">
              Name is required (minimum 2 and maximum of 150 characters).
            </small>
            <small class="form-text text-muted">Can contain spaces, ex. "Orders". Don't include "Api" or "Service" in the name.</small>
          </div>
          <div class="form-group">
            <label for="descriptionInput">Description</label>
            <textarea #descriptionInput="ngModel" class="form-control" id="descriptionInput" [(ngModel)]="description" name="description"
              placeholder="Enter Description" maxlength="300"></textarea>
            <small [hidden]="descriptionInput.valid || (descriptionInput.pristine && !f.submitted)" class="text-danger">
              Maximum of 300 characters
            </small>
            <small class="form-text text-muted">Gives other devs and users addtional information about the service. What it does, who it's for, how is it intended
              to work, etc.</small>
          </div>
          <button class="btn btn-outline-danger mt-2" [swal]="{ confirmButtonText: 'Yes, Delete', buttonsStyling: false, cancelButtonClass: 'btn', confirmButtonClass: 'btn btn-danger mr-2', title: 'Are you sure?', type: 'error', allowOutsideClick: false, showCancelButton: true, text: 'Deleting this app will also delete all logic, data type, etc specific to this application.' }"
            (confirm)="delete($event)">Delete App</button>
          <button type="submit" class="btn btn-primary mt-2">Save</button>
        </fieldset>
      </form>

    </app-data-loader>

  </div>
</div>
